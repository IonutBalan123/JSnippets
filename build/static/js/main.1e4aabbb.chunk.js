(this["webpackJsonpcode-snippets-app"]=this["webpackJsonpcode-snippets-app"]||[]).push([[0],{107:function(e,t,n){e.exports={LogoContainer:"logoContainer_LogoContainer__3p_TI"}},109:function(e,t,n){e.exports={Logged:"logged_Logged__-TVWs"}},110:function(e,t,n){e.exports={Logged:"notLogged_Logged__1oa7x"}},111:function(e,t,n){e.exports={LoggerContainer:"loggerContainer_LoggerContainer__1gUOo"}},112:function(e,t,n){e.exports={Backdrop:"backdrop_Backdrop__AkzpE"}},113:function(e,t,n){e.exports={Post:"post_Post__3Qugz",PostLink:"post_PostLink__BfAHy",Description:"post_Description__2QHAh"}},114:function(e,t,n){e.exports={Button:"button_Button__2rvm5"}},119:function(e,t,n){e.exports={MineSection:"mineSection_MineSection__20kbx"}},120:function(e,t,n){e.exports={Popup:"popup_Popup__3potd"}},123:function(e,t,n){e.exports={CommentSection:"comments_CommentSection__2Yfy3"}},124:function(e,t,n){e.exports={GoBack:"goBack_GoBack__31Gpt"}},125:function(e,t,n){e.exports={NotFound:"notFound_NotFound__3_QEU"}},133:function(e,t,n){},22:function(e,t,n){e.exports={Categories:"categories_Categories__ZpTjJ",CategoriesContainer:"categories_CategoriesContainer__251OX",All:"categories_All__1K5De",Javascript:"categories_Javascript__Rssb3",React:"categories_React__XgFiA",JQuery:"categories_JQuery__3fgCp",Vue:"categories_Vue__RBO_M",exTbJS:"categories_exTbJS__aR5yL",exTbAll:"categories_exTbAll__17mGU",exTbR:"categories_exTbR__1SVsb",exTbJ:"categories_exTbJ__3M6zn",exTbV:"categories_exTbV__3170n"}},26:function(e,t,n){e.exports={Profile:"user_Profile__IdwMt",ProfileImage:"user_ProfileImage__2Miqk",ProfileImageName:"user_ProfileImageName__1o02B",ProfileImageContainer:"user_ProfileImageContainer__2khCe",LinkDiv:"user_LinkDiv__-m-84",LinkDivLinks:"user_LinkDivLinks__2GHWy",LinkDivButtons:"user_LinkDivButtons__1RAj5",GithubLink:"user_GithubLink__2P5Ft"}},27:function(e,t,n){e.exports={AddSnippetForm:"addSnippetForm_AddSnippetForm__2LpV3",CodeDiv:"addSnippetForm_CodeDiv__bz2Mm",SelectCategory:"addSnippetForm_SelectCategory__pZlbs",ErrorMessage:"addSnippetForm_ErrorMessage__3GYVp",CodeTexarea:"addSnippetForm_CodeTexarea__XuI1r",DescriptionDiv:"addSnippetForm_DescriptionDiv__3iV3Z",DescriptionTexarea:"addSnippetForm_DescriptionTexarea__NyiRk",ButtonDiv:"addSnippetForm_ButtonDiv__xQKMx"}},31:function(e,t,n){e.exports={AddCommentContainer:"addComent_AddCommentContainer__3oBsB",AddCommentContainerCentered:"addComent_AddCommentContainerCentered__1hN3N",AddComment:"addComent_AddComment__2KDj7",AddCommentbutton:"addComent_AddCommentbutton__2RE77",AddCommentLabel:"addComent_AddCommentLabel__3YA1j",LogInLink:"addComent_LogInLink__3-3dI"}},32:function(e,t,n){e.exports={NavbarContainer:"navbar_NavbarContainer__d3zaY",Navbar:"navbar_Navbar__KH96b",NavbarPhone:"navbar_NavbarPhone__1-gH_",HamburgerContainer:"navbar_HamburgerContainer__1maZb"}},33:function(e,t,n){e.exports={Comment:"comment_Comment__w4rt_",CommentUser:"comment_CommentUser__3Nrsj",CommentUserFirst:"comment_CommentUserFirst__1cULg",CommentContent:"comment_CommentContent__2_1IO",User:"comment_User__2_Vv0",DeleteButton:"comment_DeleteButton__3W06s",UserName:"comment_UserName__3amO7"}},34:function(e,t,n){e.exports={AddPostPage:"addSnippetPage_AddPostPage__1GhhL",SnippetContainer:"addSnippetPage_SnippetContainer__2HSbW",ShowPreview:"addSnippetPage_ShowPreview__3_KZJ",ShowPreviewButton:"addSnippetPage_ShowPreviewButton__2Ke6Y",Subbmitting:"addSnippetPage_Subbmitting__2w2-G"}},402:function(e,t,n){"use strict";n.r(t);var c=n(4),i=n(48),o=n.n(i),s=n(11),r=n(37),a=n(14),d=n(13),u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var p=n(106),j=n(15),m="LOG_IN",b="LOG_OUT",h="PERSISTENT_LOG_IN",g={isLogged:!1,user:{username:"",userImage:"",githubLink:""}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(j.a)(Object(j.a)({},e),{},{isLogged:!0});case b:return localStorage.removeItem("authUser"),Object(j.a)(Object(j.a)({},e),{},{isLogged:!1,user:{username:"",userImage:"",githubLink:""}});case h:return Object(j.a)(Object(j.a)({},e),{},{isLogged:!0,user:t.userInfo});default:return e}},O=(n(133),n(7)),_=n(51),x=n(107),v=n.n(x),S=n.p+"static/media/logo.afc8ae48.svg",C=n(2),w=function(){return Object(C.jsxs)("div",{className:v.a.LogoContainer,children:[Object(C.jsx)("img",{src:S,alt:"website logo"}),Object(C.jsx)("h1",{children:"JSnippets"})]})},L=n(39),I=n.n(L),N=n(80);N.a.initializeApp({apiKey:"AIzaSyBxFsjcpXLLwtTfVoK6tzFCq1gvj1vLMBg",authDomain:"jsnippets-21f42.firebaseapp.com",projectId:"jsnippets-21f42",storageBucket:"jsnippets-21f42.appspot.com",messagingSenderId:"129491136933",appId:"1:129491136933:web:318a42cf789a1d50f2784c"});var P=N.a,y=new P.auth.GithubAuthProvider,k=function(){return function(e){P.auth().signInWithPopup(y).then((function(){P.auth().onAuthStateChanged((function(e){e?localStorage.setItem("authUser",JSON.stringify(e)):localStorage.removeItem("authUser"),I.a.get("https://api.github.com/user/".concat(e.providerData[0].uid)).then((function(t){P.firestore().collection("users").doc(t.data.login).set({userId:e.uid,username:t.data.name,userImage:t.data.avatar_url,githubLink:t.data.html_url})}))})),e(A())})).catch((function(e){console.log(e)}))}},D=function(){return function(e){var t=JSON.parse(localStorage.getItem("authUser"));I.a.get("https://api.github.com/user/".concat(t.providerData[0].uid)).then((function(n){var c=n.data.html_url.replace("https://github.com/",""),i={username:t.providerData[0].displayName,userImage:t.photoURL,githubLink:n.data.html_url,userLink:c};e(B(i))}))}},T=function(){return function(e){P.auth().signOut().then((function(){e(F())}))}},A=function(){return{type:m}},B=function(e){return{type:h,userInfo:e}},F=function(e){return{type:b,userInfo:e}},U=n(109),E=n.n(U),R=Object(s.b)((function(e){return{user:e.user}}),null)((function(e){return Object(C.jsx)("div",{className:E.a.Logged,onClick:e.clicked,children:Object(C.jsx)("img",{src:e.user.userImage,alt:"logged"})})})),J=n(110),V=n.n(J),W=n(52),M=function(e){return Object(C.jsxs)("div",{className:V.a.Logged,onClick:e.clicked,children:[Object(C.jsx)("p",{children:"Log in "}),Object(C.jsx)(W.b,{})]})},H=n(111),G=n.n(H),z=Object(d.g)(Object(s.b)((function(e){return{isLogged:e.isLogged}}),(function(e){return{handleLogIn:function(){return e(k())},handleLogOut:function(){return e(T())}}}))((function(e){return Object(C.jsx)("div",{className:G.a.LoggerContainer,children:e.isLogged?Object(C.jsx)(R,{clicked:function(){return e.history.push("/p")}}):Object(C.jsx)(M,{clicked:function(){return e.history.push("/l")}})})}))),q=n(112),Q=n.n(q),K=function(e){var t=document.body,n=document.documentElement,c=Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);return Object(C.jsx)("div",{className:Q.a.Backdrop,style:{display:e.show?"block":"none",height:c},onClick:e.clicked})},Y=n(32),Z=n.n(Y),X=function(e){var t=window.innerWidth,n=Object(C.jsx)("div",{className:Z.a.NavbarContainer,children:Object(C.jsxs)("nav",{className:Z.a.Navbar,children:[Object(C.jsx)(w,{}),Object(C.jsx)(z,{})]})});return t<600&&(n=Object(C.jsx)("div",{className:Z.a.NavbarContainer,children:Object(C.jsxs)("nav",{className:Z.a.NavbarPhone,children:[Object(C.jsx)(K,{show:e.showTheSidedrawer,clicked:e.setShowTheSidedrawer}),Object(C.jsx)("div",{className:Z.a.HamburgerContainer,children:Object(C.jsx)(_.a,{onClick:e.setShowTheSidedrawer,active:e.showTheSidedrawer,burger:"squeeze",color:"#dee3ea"})}),Object(C.jsx)(w,{}),Object(C.jsx)(z,{})]})})),Object(C.jsx)(C.Fragment,{children:n})},$=n(22),ee=n.n($),te=Object(d.g)((function(e){return Object(C.jsxs)("div",{className:ee.a.Categories,children:[Object(C.jsx)("div",{}),Object(C.jsxs)("div",{className:ee.a.CategoriesContainer,children:[Object(C.jsx)("h1",{children:"Categories"}),Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{className:"".concat(ee.a.All," ").concat(ee.a.exTbAll),onClick:function(){e.history.replace("/c/all"),window.innerWidth<600&&e.setShowTheSidedrawer()},children:"All"}),Object(C.jsx)("li",{className:"".concat(ee.a.Javascript," ").concat(ee.a.exTbJS),onClick:function(){e.history.replace("/c/javascript"),window.innerWidth<600&&e.setShowTheSidedrawer()},children:"Vanilla JS"}),Object(C.jsx)("li",{className:"".concat(ee.a.React," ").concat(ee.a.exTbR),onClick:function(){e.history.replace("/c/react"),window.innerWidth<600&&e.setShowTheSidedrawer()},children:"React.js"}),Object(C.jsx)("li",{className:"".concat(ee.a.JQuery," ").concat(ee.a.exTbJ),onClick:function(){e.history.replace("/c/jquery"),window.innerWidth<600&&e.setShowTheSidedrawer()},children:"JQuery"}),Object(C.jsx)("li",{className:"".concat(ee.a.Vue," ").concat(ee.a.exTbV),onClick:function(){e.history.replace("/c/vue"),window.innerWidth<600&&e.setShowTheSidedrawer()},children:"Vue.js"})]})]})]})})),ne=n(41),ce=n(55),ie=n.n(ce),oe=n(113),se=n.n(oe),re=n(56),ae=n.n(re),de=n(114),ue=n.n(de),le=function(e){return Object(C.jsx)("button",{className:ue.a.Button,onClick:e.clicked,style:{backgroundColor:e.danger?"red":"rgb(58, 163, 224)"},disabled:e.disable,children:e.children})},pe=Object(d.g)((function(e){var t=e.history,n=e.userImage,c=e.fullPost,i=e.username,o=e.postId,s=e.disable,r=e.whiteText;return Object(C.jsxs)("div",{className:ae.a.UserSection,style:{color:r?"#ecf0f7":"black"},children:[Object(C.jsxs)("div",{className:ae.a.UserName,children:[Object(C.jsx)("img",{src:n,alt:"User profile"}),Object(C.jsx)("p",{onClick:function(){s||t.push("/u/".concat(i))},children:i})]}),Object(C.jsx)("div",{className:ae.a.FullPost,children:!c&&Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(le,{clicked:function(){s||t.push("/s/".concat(i,"/").concat(o))},children:"Full snippet"})})})]})})),je=n(75),me=n.n(je),be=n(53),he=n(405),ge=n(406),fe=function(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),i=n[0],o=n[1];return Object(C.jsxs)("div",{className:me.a.PostSection,children:[Object(C.jsx)(ge.a,{wrapLines:!0,wrapLongLines:!0,language:"javascript",style:he.a,customStyle:{padding:"0px",margin:"0px",fontSize:window.innerWidth<600?"14px":"inherit"},children:e.children}),Object(C.jsx)("button",{className:me.a.CopyButton,onClick:function(){navigator.clipboard.writeText(e.children),o(!0);var t=setTimeout((function(){o(!1),clearTimeout(t)}),2500)},style:{backgroundColor:i?"#80eb34":"lightgrey"},children:i?Object(C.jsx)(be.b,{}):Object(C.jsx)(be.a,{})})]})},Oe=n(57),_e=n.n(Oe),xe=function(e){var t=e.children,n=e.whiteText;return Object(C.jsxs)("div",{className:_e.a.Description,style:{color:n?"#ecf0f7":"black"},children:[Object(C.jsx)("div",{className:_e.a.DescriptionTitle,children:Object(C.jsx)("h2",{children:"Description"})}),Object(C.jsx)("div",{className:_e.a.DescriptionContent,children:Object(C.jsx)("p",{children:t})})]})},ve=n(119),Se=n.n(ve),Ce=Object(d.g)((function(e){var t=e.snippetInfo,n=e.deleteSnippet,c=e.history;return Object(C.jsxs)("div",{className:Se.a.MineSection,children:[Object(C.jsx)(le,{danger:!0,clicked:function(){return n(t.username,t.postId)},children:"Delete"}),Object(C.jsx)(le,{clicked:function(){return c.push("/editSnippet/".concat(t.username,"/").concat(t.postId))},children:"Edit snippet"})]})})),we=function(e){var t=e.username,n=e.postId,c=e.userImage,i=e.fullPost,o=e.content,s=e.description,r=e.noMargin,a=e.mine,d=e.disable,u=e.category,l=e.deleteSnippet,p={vanilla:"#F7DF1E",javascript:"#f7df1e",react:"#61dbfb",jquery:"#0266A7",vue:"#3FB27F"}[u];return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:se.a.Post,style:{margin:r?"5px 0px":"30px 0px",backgroundColor:p||"rgb(114, 130, 148)"},children:[Object(C.jsx)(pe,{username:t,userImage:c,postId:n,fullPost:i,isMine:a,disable:d,whiteText:"jquery"===u||"vue"===u||"vue"===u,deleteSnippet:l}),Object(C.jsx)(fe,{children:o}),Object(C.jsx)(xe,{whiteText:"jquery"===u||"vue"===u,children:s}),a&&Object(C.jsx)(Ce,{snippetInfo:{username:t,postId:n},deleteSnippet:l})]})})},Le=n(76),Ie=n.n(Le),Ne=function(){return Object(C.jsx)("div",{className:Ie.a.Container,children:Object(C.jsxs)("div",{className:Ie.a.ldsRing,children:[Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{})]})})},Pe=n(120),ye=n.n(Pe),ke=function(e){var t=e.children,n=e.show;return Object(C.jsx)("div",{className:ye.a.Popup,style:{transform:n?"translate(50%, 70px)":"translate(50%, -70px)"},children:Object(C.jsx)("p",{children:t})})},De=n(121),Te=Object(d.g)(Object(s.b)((function(e){return{isLogged:e.isLogged}}),null)((function(e){var t=Object(c.useState)([]),n=Object(O.a)(t,2),i=n[0],o=n[1],s=Object(c.useState)(!0),r=Object(O.a)(s,2),d=r[0],u=r[1],l=Object(c.useState)(!1),p=Object(O.a)(l,2);p[0],p[1];return Object(c.useEffect)((function(){o([]),P.firestore().collection("users").get().then((function(t){t.docs.forEach((function(t){P.firestore().collection("users").doc(t.id).collection("/snippets").get().then((function(t){void 0===e.match.params.category||"all"===e.match.params.category?t.docs.reverse().forEach((function(e){o((function(t){return[].concat(Object(ne.a)(t),[e.data()])}))})):t.docs.filter((function(t){return t.data().snippetCategory===e.match.params.category})).reverse().forEach((function(e){o((function(t){return[].concat(Object(ne.a)(t),[e.data()])}))}))}))})),u(!1)}))}),[e.match.params.category]),Object(C.jsxs)("div",{className:ie.a.Posts,children:[Object(C.jsx)("div",{style:{marginTop:"80px"}}),d?Object(C.jsx)(Ne,{}):i.map((function(e){return Object(C.jsx)(we,{username:e.user.userLink,postId:e.uuid,userImage:e.user.userImage,content:e.snippetCode,category:e.snippetCategory,description:e.snippetDescription},1200*Math.random())})),Object(C.jsx)("div",{className:ie.a.EmptyDivDown}),e.isLogged&&Object(C.jsx)("div",{className:ie.a.AddPost,children:Object(C.jsx)(a.b,{to:"/postSnippet",children:Object(C.jsx)(De.a,{})})})]})}))),Ae=n(58),Be=n.n(Ae),Fe=function(){var e=Object(c.useState)(!1),t=Object(O.a)(e,2),n=t[0],i=t[1],o=Object(c.useState)(null),s=Object(O.a)(o,2),r=s[0],a=s[1],d=function(){i(!0),I.a.get("https://uselessfacts.jsph.pl/random.json?language=en").then((function(e){return a(e.data.text.replaceAll("`","'"))})).catch((function(e){return console.log(e)}));var e=setTimeout((function(){i(!1),a(null),clearTimeout(e)}),8e3)};return Object(c.useEffect)((function(){d();var e=setInterval((function(){d()}),6e4);return function(){i(!1),clearInterval(e)}}),[]),Object(C.jsx)("div",{className:Be.a.RightSide,children:Object(C.jsx)("div",{className:Be.a.InnerRightSide,children:n&&Object(C.jsxs)("div",{className:Be.a.RandomFact,children:[Object(C.jsx)("h1",{children:"Random fact!"}),Object(C.jsx)("p",{children:r})]})})})},Ue=n(42),Ee=n.n(Ue),Re=function(e){var t=[Ee.a.Sidebar,Ee.a.Close];return e.open?(t=[Ee.a.Sidebar,Ee.a.Open],document.body.style.overflow="hidden"):document.body.style.overflow="scroll",Object(C.jsxs)("div",{className:t.join(" "),children:[Object(C.jsx)(_.a,{onClick:e.setShowTheSidedrawer,active:e.open,burger:"squeeze",color:"#dee3ea"}),e.children]})},Je=n(77),Ve=n.n(Je),We=function(e){var t=window.innerWidth,n=Object(C.jsxs)("div",{className:Ve.a.AppBody,children:[Object(C.jsx)(te,{selected:e.selected}),Object(C.jsx)(Te,{selectedCategory:e.selectedCategory}),Object(C.jsx)(Fe,{})]});return t<600&&(n=Object(C.jsxs)("div",{className:Ve.a.AppBodyPhone,children:[Object(C.jsx)(Re,{open:e.showTheSidedrawer,setShowTheSidedrawer:e.setShowTheSidedrawer,children:Object(C.jsx)(te,{selected:e.selected,setShowTheSidedrawer:e.setShowTheSidedrawer})}),Object(C.jsx)(Te,{selectedCategory:e.selectedCategory})]})),Object(C.jsx)(C.Fragment,{children:n})},Me=Object(s.b)(null,(function(e){return{onPersistentLogIn:function(){return e(D())}}}))((function(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),i=n[0],o=n[1],s=Object(c.useState)("all"),r=Object(O.a)(s,2),a=r[0],d=r[1],u=function(){o((function(e){return!e}))};return Object(c.useEffect)((function(){localStorage.hasOwnProperty("authUser")&&e.onPersistentLogIn()}),[e]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(X,{showTheSidedrawer:i,setShowTheSidedrawer:u}),Object(C.jsx)(We,{showTheSidedrawer:i,setShowTheSidedrawer:u,selected:function(e){d(e)},selectedCategory:a})]})})),He=n(78),Ge=n.n(He),ze=n(54),qe=n.n(ze),Qe=n(31),Ke=n.n(Qe),Ye=n(122),Ze=Object(d.g)((function(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),i=n[0],o=n[1],s=Object(c.useRef)();return Object(C.jsx)("div",{className:Ke.a.AddCommentContainer,children:e.isLogged?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("p",{className:Ke.a.AddCommentLabel,children:"Add a comment"}),Object(C.jsxs)("div",{className:Ke.a.AddCommentContainerCentered,children:[Object(C.jsx)("textarea",{maxLength:"270",className:Ke.a.AddComment,onChange:function(e){o(!0),""===e.target.value&&o(!1)},ref:s}),i&&Object(C.jsx)("button",{className:Ke.a.AddCommentbutton,onClick:function(){/\n/g.test(s.current.value)||(e.addComment(s.current.value),s.current.value="")},children:"Add comment"})]})]}):Object(C.jsxs)("h1",{className:Ke.a.LogInLink,onClick:function(){return e.history.replace("/l")},children:["Log in to add a comment!! ",Object(C.jsx)(Ye.a,{})]})})})),Xe=n(123),$e=n.n(Xe),et=n(33),tt=n.n(et),nt=Object(d.g)(Object(s.b)((function(e){return{user:e.user}}),null)((function(e){var t=e.children,n=e.user,c=e.history,i=e.snippetOwner,o=e.commentOwner,s=e.deleteComment,r=e.commentId;return Object(C.jsx)("div",{className:tt.a.Comment,children:Object(C.jsxs)("div",{className:tt.a.CommentContent,children:[Object(C.jsxs)("div",{className:tt.a.CommentUser,children:[Object(C.jsx)("div",{className:tt.a.CommentUserFirst,children:Object(C.jsxs)("div",{className:tt.a.UserName,children:[Object(C.jsx)("img",{src:o.userImage,alt:"User profile"}),Object(C.jsxs)("p",{onClick:function(){return c.push("/u/".concat(o.userLink))},children:[o.userLink,i===o.userLink&&Object(C.jsx)("i",{style:{color:"#f59e64",fontSize:"12px",marginLeft:"5px"},children:"(Creator)"})]})]})}),o.userLink===n.userLink&&Object(C.jsx)(le,{danger:!0,clicked:function(){return s(r)},children:"Delete"})]}),Object(C.jsx)("p",{children:t})]})})}))),ct=function(e){var t=e.comments,n=e.snippetOwner,c=e.deleteComment,i=t.reverse().map((function(e){return Object(C.jsx)(nt,{snippetOwner:n,commentOwner:e.commentOwner,deleteComment:c,commentId:e.commentuuid,children:e.content},1200*Math.random())}));return Object(C.jsx)("div",{className:$e.a.CommentSection,children:i})},it=n(79),ot=n.n(it),st=Object(s.b)((function(e){return{user:e.user,isLogged:e.isLogged}}),(function(e){return{onPersistentLogIn:function(){return e(D())}}}))((function(e){var t=e.snippetInfo,n=e.user,i=e.onPersistentLogIn,o=e.isLogged,s=Object(c.useState)([]),r=Object(O.a)(s,2),a=r[0],d=r[1],u=qe()();Object(c.useEffect)((function(){localStorage.hasOwnProperty("authUser")&&i(),P.firestore().collection("users").doc(t.userId).collection("snippets").doc(t.snippetId).collection("comments").get().then((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),d(t)})).catch((function(e){return console.log(e)}))}),[t.userId,t.snippetId,localStorage]);return Object(C.jsxs)("div",{className:ot.a.CommentSectionContainer,children:[Object(C.jsxs)("div",{className:ot.a.UpperContainer,children:[Object(C.jsxs)("h1",{children:["Comments (",a.length,")"]}),Object(C.jsx)(Ze,{addComment:function(e){"."!==e.charAt(e.length-1)&&(e=e.charAt(0).toUpperCase()+e.slice(1)+".");var c={content:e,commentuuid:u,commentOwner:Object(j.a)({},n)};P.firestore().collection("users").doc(t.userId).collection("snippets").doc(t.snippetId).collection("comments").doc(u).set(Object(j.a)({},c)).then((function(){return d((function(e){return[].concat(Object(ne.a)(e),[Object(j.a)({},c)])}))})).catch((function(e){return console.log(e)}))},isLogged:o})]}),Object(C.jsx)(ct,{comments:a,snippetOwner:t.userId,deleteComment:function(e){var n=a.filter((function(t){return t.commentuuid!==e}));P.firestore().collection("users").doc(t.userId).collection("snippets").doc(t.snippetId).collection("comments").doc(e).delete().then((function(){return d(n)})).catch((function(e){return console.log(e)}))}})]})})),rt=n(124),at=n.n(rt),dt=function(e){return Object(C.jsx)("div",{className:at.a.GoBack,children:Object(C.jsx)(a.b,{to:e.location,children:Object(C.jsx)(W.a,{})})})},ut=Object(d.g)((function(e){var t=Object(c.useState)(null),n=Object(O.a)(t,2),i=n[0],o=n[1],s=Object(c.useState)(!0),r=Object(O.a)(s,2),a=r[0],d=r[1];Object(c.useEffect)((function(){P.firestore().collection("users").doc(e.match.params.user).collection("snippets").doc(e.match.params.snippetId).get().then((function(e){o(Object(C.jsx)(we,{username:e.data().user.userLink,fullPost:!0,noMargin:window.innerWidth<=600,snippetId:e.data().uuid,userImage:e.data().user.userImage,category:e.data().snippetCategory,content:e.data().snippetCode,description:e.data().snippetDescription})),d(!1)}))}),[e,e.match.params.user,e.match.params.snippetId]);var u=Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:Ge.a.PostSection,children:i}),Object(C.jsx)(st,{snippetInfo:{userId:e.match.params.user,snippetId:e.match.params.snippetId}})]});return Object(C.jsxs)("div",{className:Ge.a.FullPost,children:[Object(C.jsx)(dt,{location:"/"}),a?Object(C.jsx)(Ne,{}):u]})})),lt=n(43),pt=n.n(lt),jt=n(26),mt=n.n(jt),bt=n(40),ht=Object(s.b)((function(e){return{user:e.user}}),(function(e){return{onLogOut:function(){return e(T())}}}))((function(e){var t=e.myProfile,n=e.theHistory,c=e.user,i=e.onLogOut,o=e.userInfo;return Object(C.jsx)("div",{className:mt.a.Profile,children:Object(C.jsxs)("div",{className:mt.a.ProfileImageName,children:[Object(C.jsx)("div",{className:mt.a.ProfileImageContainer,children:t?Object(C.jsx)("img",{src:c.userImage,alt:"User profile ",className:mt.a.ProfileImage}):Object(C.jsx)("img",{src:o.userImage,alt:"Visited User profile",className:mt.a.ProfileImage})}),Object(C.jsxs)("div",{className:mt.a.LinkDiv,children:[Object(C.jsx)("div",{className:mt.a.LinkDivLinks,children:Object(C.jsx)("h1",{children:t?Object(C.jsxs)("a",{href:c.githubLink,children:[c.username," ",Object(C.jsx)(bt.a,{})]}):Object(C.jsxs)("a",{href:"https://github.com/".concat(o.userLink),children:[o.username," ",Object(C.jsx)(bt.a,{})]})})}),Object(C.jsx)("div",{className:mt.a.LinkDivButtons,children:t&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(le,{clicked:function(){return n.push("/postSnippet")},children:"Add snippet"}),Object(C.jsx)(le,{clicked:i,danger:!0,children:"Log out"})]})})]})]})})})),gt=Object(d.g)(Object(s.b)((function(e){return{user:e.user}}),null)((function(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),i=n[0],o=n[1],s=Object(c.useState)([]),r=Object(O.a)(s,2),a=r[0],d=r[1],u=Object(c.useState)({}),l=Object(O.a)(u,2),p=l[0],j=l[1],m=Object(c.useState)(!0),b=Object(O.a)(m,2),h=b[0],g=b[1],f=Object(c.useState)(!1),_=Object(O.a)(f,2),x=_[0],v=_[1];Object(c.useEffect)((function(){var t=[];e.match.params.userId===e.user.userLink||void 0===e.match.params.userId?(o(!0),P.firestore().collection("users").doc(e.user.userLink).collection("snippets").get().then((function(e){e.docs.forEach((function(e){t.push(e.data())})),d(t),g(!1)}))):(P.firestore().collection("users").doc(e.match.params.userId).get().then((function(e){j({userImage:e.data().userImage,username:e.data().username,userLink:e.data().githubLink})})),P.firestore().collection("users").doc(e.match.params.userId).collection("snippets").get().then((function(e){e.docs.forEach((function(e){t.push(e.data())})),d(t),g(!1)})),o(!1),g(!1))}),[e.match.params.userId,e.user.userLink]);var S=function(e,t){P.firestore().collection("users").doc(e).collection("snippets").doc(t).delete().then((function(){d((function(e){return e.filter((function(e){return e.uuid!==t}))}));var e=setTimeout((function(){v(!1),clearTimeout(e)}),1500)})).catch((function(e){return console.log(e)}))},w=a.map((function(e){return Object(C.jsx)(we,{category:e.snippetCategory,username:e.user.userLink,userImage:e.user.userImage,postId:e.uuid,mine:i,content:e.snippetCode,description:e.snippetDescription,deleteSnippet:S},e.uuid)})),L=Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(dt,{location:"/"}),Object(C.jsx)("div",{className:pt.a.InnerProfileContainer,children:Object(C.jsx)(ht,{myProfile:i,theHistory:e.history,userInfo:p})}),Object(C.jsx)("div",{className:pt.a.NoPosts,children:Object(C.jsx)("h1",{children:0===a.length?"You have no snippets, add one!":"Snippets(".concat(a.length,")")})}),Object(C.jsx)("div",{className:pt.a.PostsContainer,children:w})]});return Object(C.jsxs)("div",{className:pt.a.ProfileContainer,children:[Object(C.jsx)(ke,{show:x,children:"Snippet deleted succesfully"}),h?Object(C.jsx)(Ne,{}):L]})}))),ft=Object(s.b)((function(e){return{isLogged:e.isLogged,user:e.user}}),null)((function(e){return Object(C.jsx)(C.Fragment,{children:e.isLogged?Object(C.jsx)(gt,{}):Object(C.jsx)(d.a,{to:"/l"})})})),Ot=n(59),_t=n.n(Ot),xt=Object(s.b)((function(e){return{isLogged:e.isLogged,user:e.user}}),(function(e){return{onLogIn:function(){return e(k())}}}))((function(e){return Object(C.jsxs)("div",{className:_t.a.LogPage,children:[Object(C.jsx)(dt,{location:"/"}),Object(C.jsx)("div",{className:_t.a.LogContainer,children:Object(C.jsxs)("div",{className:_t.a.Log,children:[Object(C.jsx)("h1",{children:"Welcome to JSnippets"}),Object(C.jsx)("p",{children:"Join the coolest javascript developer comunity"}),Object(C.jsxs)("button",{onClick:e.onLogIn,children:["Log in with github ",Object(C.jsx)(bt.a,{})]}),(e.isLogged||localStorage.hasOwnProperty("authUser"))&&Object(C.jsx)(d.a,{to:"/"})]})})]})})),vt=n(34),St=n.n(vt),Ct=n(27),wt=n.n(Ct),Lt=function(e){var t=Object(c.useState)(null),n=Object(O.a)(t,2),i=n[0],o=n[1],s=Object(c.useRef)(),r=Object(c.useRef)(),a=Object(c.useRef)(),d=function(e){o(e);var t=setTimeout((function(){o(null),clearTimeout(t)}),3e3)};return Object(c.useEffect)((function(){null!==e.prevSnippetData&&(s.current.value=e.prevSnippetData.snippetCode,r.current.value=e.prevSnippetData.snippetDescription,a.current.value=e.prevSnippetData.snippetCategory)}),[e.prevSnippetData]),Object(C.jsxs)("div",{className:wt.a.AddSnippetForm,children:[Object(C.jsxs)("div",{className:wt.a.CodeDiv,children:[Object(C.jsx)("p",{children:"Add the code "}),Object(C.jsx)("textarea",{className:wt.a.CodeTexarea,maxLength:"800",ref:s})]}),Object(C.jsxs)("div",{className:wt.a.DescriptionDiv,children:[Object(C.jsx)("p",{children:"Add the description "}),Object(C.jsx)("textarea",{className:wt.a.DescriptionTexarea,maxLength:"235",ref:r})]}),Object(C.jsxs)("div",{className:wt.a.SelectCategory,children:[Object(C.jsx)("p",{children:"Select a category:"}),Object(C.jsxs)("select",{ref:a,children:[Object(C.jsx)("option",{value:"javascript",children:"Vanilla JS"}),Object(C.jsx)("option",{value:"react",children:"React.js"}),Object(C.jsx)("option",{value:"jquery",children:"JQuery"}),Object(C.jsx)("option",{value:"vue",children:"Vue.js"})]})]}),Object(C.jsx)("div",{className:wt.a.ErrorMessage,children:Object(C.jsx)("p",{children:i})}),Object(C.jsx)("div",{className:wt.a.ButtonDiv,children:Object(C.jsx)(le,{clicked:function(){s.current.value.length>=70&&r.current.value.length>=30?e.getSnippetData({snippetCode:s.current.value,snippetDescription:r.current.value,snippetCategory:a.current.value}):s.current.value.length<70?d("The code must have more than 100 words"):r.current.value.length<30&&d("The desciption must have more than 30 words")},children:"Preview Snippet"})})]})},It=Object(d.g)(Object(s.b)((function(e){return{user:e.user}}),null)((function(e){var t=qe()(),n=Object(c.useState)(!1),i=Object(O.a)(n,2),o=i[0],s=i[1],r=Object(c.useState)(!1),a=Object(O.a)(r,2),d=a[0],u=a[1],l=Object(c.useState)(null),p=Object(O.a)(l,2),m=p[0],b=p[1],h=Object(C.jsx)(C.Fragment,{children:o?Object(C.jsxs)("div",{className:St.a.ShowPreview,children:[Object(C.jsx)(we,{noMargin:!0,username:e.user.userLink,postId:t,userImage:e.user.userImage,category:m.snippetCategory,content:m.snippetCode,description:m.snippetDescription,disable:!0}),Object(C.jsxs)("div",{className:St.a.ShowPreviewButton,children:[Object(C.jsx)(le,{clicked:function(){return s(!1)},danger:!0,children:"Edit snippet"}),Object(C.jsx)(le,{clicked:function(){u(!0),P.firestore().collection("users").doc(e.user.userLink).collection("snippets").doc(t).set(Object(j.a)(Object(j.a)({},m),{},{user:{userLink:e.user.userLink,userImage:e.user.userImage,username:e.user.username},uuid:t})).then((function(){e.history.replace("/")})).catch((function(){e.history.replace("/")}))},children:"Post snippet"})]})]}):Object(C.jsx)(Lt,{getSnippetData:function(e){s(!0),b(e)},prevSnippetData:m})});return d&&(h=Object(C.jsxs)("div",{className:St.a.Subbmitting,children:[Object(C.jsx)("h1",{children:"Submitting snippet"}),Object(C.jsx)(Ne,{})]})),Object(C.jsxs)("div",{className:St.a.AddPostPage,children:[Object(C.jsx)(dt,{location:"/"}),Object(C.jsx)("div",{className:St.a.SnippetContainer,children:h})]})}))),Nt=n(44),Pt=n.n(Nt),yt=Object(d.g)(Object(s.b)((function(e){return{user:e.user}}),null)((function(e){var t=Object(c.useState)(null),n=Object(O.a)(t,2),i=n[0],o=n[1],s=Object(c.useState)(null),r=Object(O.a)(s,2),a=r[0],d=r[1],u=Object(c.useState)(!1),l=Object(O.a)(u,2),p=l[0],m=l[1];return Object(c.useEffect)((function(){null===a?P.firestore().collection("users").doc(e.match.params.userId).collection("/snippets").doc(e.match.params.snippetId).get().then((function(e){o({snippetCode:e.data().snippetCode,snippetDescription:e.data().snippetDescription,snippetCategory:e.data().snippetCategory,snippetUuid:e.data().uuid})})):o(a)}),[e.match.params.snippetId,e.match.params.userId,a]),Object(C.jsxs)("div",{className:Pt.a.EditSnippetPage,children:[Object(C.jsx)(dt,{location:"/"}),Object(C.jsx)("div",{className:Pt.a.EditSnippetContainer,children:p?Object(C.jsxs)("div",{className:Pt.a.ShowPreview,children:[Object(C.jsx)(we,{noMargin:!0,username:e.user.userLink,postId:i.snippetUuid,userImage:e.user.userImage,category:a.snippetCategory,content:a.snippetCode,description:a.snippetDescription,disable:!0}),Object(C.jsxs)("div",{className:Pt.a.ShowPreviewButton,children:[Object(C.jsx)(le,{clicked:function(){return m(!1)},danger:!0,children:"Edit snippet"}),Object(C.jsx)(le,{clicked:function(){P.firestore().collection("users").doc(e.match.params.userId).collection("/snippets").doc(e.match.params.snippetId).set(Object(j.a)(Object(j.a)({},a),{},{user:e.user,uuid:e.match.params.snippetId})).then((function(){e.history.replace("/")})).catch((function(){e.history.replace("/")}))},children:"Post snippet"})]})]}):Object(C.jsx)(Lt,{prevSnippetData:i,getSnippetData:function(e){m(!0),d(e)}})})]})}))),kt=n(125),Dt=n.n(kt),Tt=function(){return Object(C.jsxs)("div",{className:Dt.a.NotFound,children:[Object(C.jsx)(dt,{location:"/"}),Object(C.jsxs)("h1",{children:["Sorry, ",Object(C.jsx)("br",{}),"this page does not exist. \ud83e\udd7a"]})]})},At=Object(r.c)(f,Object(r.a)(p.a));o.a.render(Object(C.jsx)(s.a,{store:At,children:Object(C.jsx)(a.a,{children:Object(C.jsxs)(d.d,{children:[Object(C.jsx)(d.b,{path:"/",exact:!0,component:Me}),Object(C.jsx)(d.b,{path:"/c/:category",component:Me}),Object(C.jsx)(d.b,{path:"/s/:user/:snippetId",component:ut}),Object(C.jsx)(d.b,{path:"/u/:userId",component:gt}),Object(C.jsx)(d.b,{path:"/p",component:ft}),Object(C.jsx)(d.b,{path:"/l",component:xt}),Object(C.jsx)(d.b,{path:"/postSnippet",component:It}),Object(C.jsx)(d.b,{path:"/editSnippet/:userId/:snippetId",component:yt}),Object(C.jsx)(d.b,{component:Tt})]})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");u?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):l(t,e)}))}}()},42:function(e,t,n){e.exports={Sidebar:"sidebar_Sidebar__O3mnr",Open:"sidebar_Open__3H9-8",Close:"sidebar_Close__RC-tg"}},43:function(e,t,n){e.exports={ProfileContainer:"profile_ProfileContainer__vpiw5",InnerProfileContainer:"profile_InnerProfileContainer__1ukLj",Profile:"profile_Profile__3_azz",ProfileImageName:"profile_ProfileImageName__9cwQ8",ProfileImage:"profile_ProfileImage__vaWXT",GithubLink:"profile_GithubLink__1p1Tl",NoPosts:"profile_NoPosts__KOe4S",PostsContainer:"profile_PostsContainer__14VCL"}},44:function(e,t,n){e.exports={EditSnippetPage:"editSnippet_EditSnippetPage__2rqh3",EditSnippetContainer:"editSnippet_EditSnippetContainer__2uqYQ",ShowPreviewButton:"editSnippet_ShowPreviewButton__adpny"}},55:function(e,t,n){e.exports={Posts:"posts_Posts__1JwTY",AddPost:"posts_AddPost__aYRqB",EmptyDivDown:"posts_EmptyDivDown__2wpjD"}},56:function(e,t,n){e.exports={UserSection:"userSection_UserSection__3vm_x",User:"userSection_User__5dlnP",UserName:"userSection_UserName__24Vnx",FullPost:"userSection_FullPost__3Oi0K",SavedButton:"userSection_SavedButton__1y54z"}},57:function(e,t,n){e.exports={Description:"descriptionSection_Description__34inS",DescriptionContent:"descriptionSection_DescriptionContent__apI7g",DescriptionTitle:"descriptionSection_DescriptionTitle__2ftmJ"}},58:function(e,t,n){e.exports={RightSide:"rightSide_RightSide__hHpV_",RandomFact:"rightSide_RandomFact__BOLTE",InnerRightSide:"rightSide_InnerRightSide__1Ux10"}},59:function(e,t,n){e.exports={LogPage:"logPage_LogPage__nubW9",LogContainer:"logPage_LogContainer__3BfFU",Log:"logPage_Log__3RZs_"}},75:function(e,t,n){e.exports={PostSection:"postSection_PostSection__2w5Hu",CopyButton:"postSection_CopyButton__2m0_J"}},76:function(e,t,n){e.exports={Container:"loadingIndicator_Container__sael8",ldsRing:"loadingIndicator_ldsRing__3Y3bM"}},77:function(e,t,n){e.exports={AppBody:"appBody_AppBody__1qERP",AppBodyPhone:"appBody_AppBodyPhone__2Z8gz"}},78:function(e,t,n){e.exports={FullPost:"fullPost_FullPost__4SVAG",PostSection:"fullPost_PostSection__3zHeV",CommentSectionContainer:"fullPost_CommentSectionContainer__Fcqvu",UpperContainer:"fullPost_UpperContainer__aJ5gj",AddCommentContainer:"fullPost_AddCommentContainer__MynHm",AddCommentContainerCentered:"fullPost_AddCommentContainerCentered__1FaVP",AddComment:"fullPost_AddComment__1bPv5",AddCommentbutton:"fullPost_AddCommentbutton__22N1M",CommentSection:"fullPost_CommentSection__1XZaf"}},79:function(e,t,n){e.exports={CommentSectionContainer:"commentSection_CommentSectionContainer__3vuV-",UpperContainer:"commentSection_UpperContainer__1y9LJ",CommentSection:"commentSection_CommentSection__G6epb"}}},[[402,1,2]]]);
//# sourceMappingURL=main.1e4aabbb.chunk.js.map